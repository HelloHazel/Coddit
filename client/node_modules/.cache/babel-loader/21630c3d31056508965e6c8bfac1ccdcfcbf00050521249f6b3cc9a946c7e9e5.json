{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\Portfolio\\\\client\\\\src\\\\utills\\\\index.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// components\nexport default class SideMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemTree: [],\n      componentStateTree: []\n    };\n  }\n  componentWillMount() {\n    if (this.props.children) {\n      this.setState({\n        componentStateTree: this.buildComponentStateTree(this.props.children, null)\n      });\n    }\n  }\n  componentDidMount() {\n    const {\n      items\n    } = this.props;\n    if (items) {\n      this.setState({\n        itemTree: this.buildTree(items, null)\n      });\n    }\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.items && prevProps.items !== this.props.items) {\n      this.setState({\n        itemTree: this.buildTree(this.props.items, null)\n      });\n    }\n    // We rebuild the whole component tree if activeItem prop changes\n    if (this.props.activeItem && this.props.activeItem !== prevProps.activeItem) {\n      if (this.props.items) {\n        this.setState({\n          itemTree: this.buildTree(this.props.items, null)\n        });\n      } else if (this.props.children) {\n        this.setState({\n          componentStateTree: this.buildComponentStateTree(this.props.children, null)\n        });\n      }\n    }\n  }\n\n  //\n  // methods for SideMenu using COMPONENT structure\n  //\n\n  buildComponentStateTree(children, parent) {\n    const {\n      activeItem\n    } = this.props;\n    return React.Children.map(children, child => {\n      const newChild = {};\n      let subTree = [];\n      newChild.active = false;\n      newChild.parent = parent;\n      if (activeItem === child.props.value) {\n        this.activateParentsComponentTree(newChild, false);\n      }\n      if (child.props.children) {\n        subTree = this.buildComponentStateTree(child.props.children, newChild);\n      }\n      newChild.children = subTree;\n      return newChild;\n    });\n  }\n  handleComponentClick(item) {\n    const {\n      collapse\n    } = this.props;\n    const {\n      componentStateTree\n    } = this.state;\n    const activeBefore = item.active;\n    if (collapse) {\n      this.deactivateComponentTree(componentStateTree);\n    } else {\n      this.deactivateComponentTreeLeaves(componentStateTree);\n    }\n    this.activateParentsComponentTree(item, activeBefore);\n    this.setState({\n      componentStateTree: componentStateTree\n    });\n  }\n  activateParentsComponentTree(item, activeBefore) {\n    if (item) {\n      const isLeaf = !item.children || item.children.length === 0;\n      // We don't want to inacivate an active leaf item\n      if (isLeaf && activeBefore) {\n        item.active = true;\n      } else if (!activeBefore) {\n        item.active = true;\n      }\n      this.activateParentsComponentTree(item.parent, false);\n    }\n  }\n  deactivateComponentTree(componentStateTree) {\n    if (!componentStateTree) {\n      return null;\n    }\n    return componentStateTree.map(child => {\n      child.active = false;\n      if (child.children) {\n        child.children = this.deactivateComponentTree(child.children);\n      }\n      return child;\n    });\n  }\n  deactivateComponentTreeLeaves(componentStateTree) {\n    if (!componentStateTree) {\n      return null;\n    }\n    return componentStateTree.map(child => {\n      if (!child.children || child.children.length === 0) {\n        child.active = false;\n      } else {\n        child.children = this.deactivateComponentTreeLeaves(child.children);\n      }\n      return child;\n    });\n  }\n\n  //\n  // methods for SideMenu using JSON structure\n  //\n\n  buildTree(children, parent) {\n    const {\n      activeItem\n    } = this.props;\n    if (!Array.isArray(children)) {\n      return null;\n    }\n    return children.map(child => {\n      let newChild = {\n        ...child,\n        active: false,\n        parent: parent,\n        children: null\n      };\n      let subTree = [];\n      if (newChild.value === activeItem) {\n        newChild.active = true;\n        this.activeParentPath(newChild);\n      }\n      if (Array.isArray(child.children)) {\n        //  $FlowFixMe\n        subTree = this.buildTree(child.children, newChild);\n      }\n      newChild.children = subTree;\n      return newChild;\n    });\n  }\n  deactivateTree(itemTree) {\n    if (!itemTree) {\n      return null;\n    }\n    itemTree.forEach(item => {\n      item.active = false;\n      if (item.children) {\n        this.deactivateTree(item.children);\n      }\n    });\n  }\n  deactivateTreeLeaves(itemTree) {\n    if (!itemTree) {\n      return null;\n    }\n    itemTree.forEach(item => {\n      if (!item.children) {\n        item.active = false;\n      } else {\n        this.deactivateTreeLeaves(item.children);\n      }\n    });\n  }\n  activeParentPath(item) {\n    let curItem = item;\n    while (curItem) {\n      curItem.active = true;\n      curItem = curItem.parent;\n    }\n  }\n  onItemClick(item) {\n    const {\n      itemTree\n    } = this.state;\n    const {\n      onMenuItemClick,\n      collapse,\n      shouldTriggerClickOnParents\n    } = this.props;\n    const self = this;\n    return e => {\n      if (e) {\n        e.stopPropagation();\n        e.nativeEvent.stopImmediatePropagation();\n      }\n      const isLeaf = !item.children || item.children.length === 0;\n      // handle UI changes\n      if (!item.active) {\n        // if menu is in collapse mode, close all items\n        if (collapse) {\n          self.deactivateTree(itemTree);\n        } else {\n          self.deactivateTreeLeaves(itemTree);\n        }\n        item.active = true;\n        self.activeParentPath(item);\n        self.setState({\n          itemTree: itemTree\n        });\n        // eslint-disable-next-line\n      }\n      // we deactivate the item if it is active and does not have children\n      else if (!isLeaf) {\n        item.active = false;\n        // if menu is in collapse mode, close only\n        if (item.children) {\n          self.deactivateTree(item.children);\n        }\n        if (item.parent) {\n          self.activeParentPath(item.parent);\n        }\n        self.setState({\n          itemTree: itemTree\n        });\n      }\n\n      // check if item has an onClick method defined\n      if (item.onClick) {\n        item.onClick(item.value);\n        // handle what happens if the item is a leaf node\n      } else if (isLeaf || shouldTriggerClickOnParents) {\n        if (onMenuItemClick) {\n          onMenuItemClick(item.value, item.extras);\n        } else {\n          window.location.href = `#${item.value}`;\n        }\n      }\n      this.setState({\n        ...this.state\n      });\n    };\n  }\n  renderChevron(item, rtl) {\n    if (item.children && item.children.length > 0) {\n      if (item.active) {\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-chevron-down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 16\n        }, this);\n      } else if (rtl) {\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-chevron-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-chevron-left\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 14\n      }, this);\n    }\n    return null;\n  }\n  handleRenderMenuItemContent(item) {\n    const {\n      renderMenuItemContent,\n      rtl\n    } = this.props;\n    if (renderMenuItemContent) {\n      return renderMenuItemContent({\n        icon: item.icon,\n        value: item.value,\n        label: item.label\n      });\n    }\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [item.icon && /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `fa ${item.icon} item-icon`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"item-label\",\n        children: [\" \", item.label, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), this.renderChevron(item, rtl)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this);\n  }\n  renderItem(item, level) {\n    if (item.divider) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `divider divider-level-${level}`,\n        children: item.label\n      }, item.value, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `item item-level-${level} ${item.active ? \"active\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item-title\",\n        onClick: this.onItemClick(item),\n        children: this.handleRenderMenuItemContent(item)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `children ${item.active ? \"active\" : \"inactive\"}`,\n        children: item.children && item.children.map(child => this.renderItem(child, level + 1))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this)]\n    }, item.value, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 7\n    }, this);\n  }\n  render() {\n    const {\n      itemTree,\n      componentStateTree\n    } = this.state;\n    const {\n      theme,\n      onMenuItemClick,\n      rtl,\n      renderMenuItemContent,\n      shouldTriggerClickOnParents\n    } = this.props;\n    const sidemenuComponent = this;\n    if (!componentStateTree || componentStateTree.length === 0) {\n      // sidemenu constructed from json\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `Side-menu Side-menu-${theme} ${rtl ? \"rtl\" : \"\"} children active`,\n        children: itemTree && itemTree.map(item => this.renderItem(item, 1))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this);\n    }\n    // sidemenu constructed with react components\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `Side-menu  Side-menu-${theme} ${rtl ? \"rtl\" : \"\"} children active`,\n      children: React.Children.map(this.props.children, (child, index) => {\n        return /*#__PURE__*/React.cloneElement(child, {\n          activeState: componentStateTree[index],\n          handleComponentClick: this.handleComponentClick.bind(this),\n          renderMenuItemContent: renderMenuItemContent,\n          onMenuItemClick: onMenuItemClick,\n          shouldTriggerClickOnParents: shouldTriggerClickOnParents,\n          rtl: rtl,\n          level: 1,\n          sidemenuComponent: sidemenuComponent\n        });\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n// Because component version of menu is built using cloning and adding some props,\n// we need to silence errors related to these added props.\nSideMenu.defaultProps = {\n  collapse: true,\n  rtl: false,\n  theme: \"default\"\n};\nSideMenu.propTypes = {\n  items: PropTypes.array,\n  onMenuItemClick: PropTypes.func,\n  renderMenuItemContent: PropTypes.func,\n  theme: PropTypes.string,\n  collapse: PropTypes.bool,\n  rtl: PropTypes.bool,\n  activeItem: PropTypes.string\n};\nexport class Item extends Component {\n  // $FlowFixMe\n\n  onItemClick() {\n    const {\n      onMenuItemClick,\n      children,\n      value,\n      extras,\n      // $FlowFixMe\n      handleComponentClick,\n      activeState,\n      shouldTriggerClickOnParents,\n      onClick\n    } = this.props;\n    const isLeaf = !children || children.length === 0;\n    if (onClick) {\n      onClick(value);\n    } else if (isLeaf || shouldTriggerClickOnParents) {\n      if (onMenuItemClick) {\n        onMenuItemClick(value, extras);\n      } else {\n        window.location.href = `#${value}`;\n      }\n    }\n    handleComponentClick(activeState);\n  }\n  renderChevron(children, activeState, rtl) {\n    if (children) {\n      if (activeState.active) {\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-chevron-down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 16\n        }, this);\n      } else if (rtl) {\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-chevron-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-chevron-left\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 14\n      }, this);\n    }\n    return null;\n  }\n  handleRenderMenuItemContent() {\n    // $FlowFixMe\n    const {\n      renderMenuItemContent,\n      children,\n      value,\n      label,\n      icon,\n      activeState,\n      rtl\n    } = this.props;\n    if (renderMenuItemContent) {\n      return renderMenuItemContent({\n        icon: icon,\n        value: value,\n        label: label\n      });\n    }\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [icon && /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `fa ${icon} item-icon`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"item-label\",\n        children: [\" \", label, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this), this.renderChevron(children, activeState, rtl)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 7\n    }, this);\n  }\n  render() {\n    const {\n      label,\n      onMenuItemClick,\n      divider,\n      children,\n      // $FlowFixMe\n      activeState,\n      level,\n      rtl,\n      renderMenuItemContent,\n      shouldTriggerClickOnParents,\n      sidemenuComponent,\n      handleComponentClick\n    } = this.props;\n    if (divider) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `divider divider-level-${level}`,\n        children: [label, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `item item-level-${level} ${activeState.active ? \"active\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item-title\",\n        onClick: this.onItemClick.bind(this),\n        children: this.handleRenderMenuItemContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 9\n      }, this), children && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `children ${activeState.active ? \"active\" : \"inactive\"}`,\n        children: React.Children.map(children, (child, index) => {\n          return /*#__PURE__*/React.cloneElement(child, {\n            handleComponentClick: handleComponentClick,\n            activeState: activeState.children != null ? activeState.children[index] : null,\n            renderMenuItemContent: renderMenuItemContent,\n            onMenuItemClick: onMenuItemClick,\n            shouldTriggerClickOnParents: shouldTriggerClickOnParents,\n            rtl: rtl,\n            level: level + 1,\n            sidemenuComponent: sidemenuComponent\n          });\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 7\n    }, this);\n  }\n}\nItem.propTypes = {\n  label: PropTypes.string,\n  value: PropTypes.string,\n  activeState: PropTypes.object,\n  level: PropTypes.number,\n  icon: PropTypes.string,\n  rtl: PropTypes.bool,\n  onMenuItemClick: PropTypes.func,\n  handleComponentClick: PropTypes.func,\n  renderMenuItemContent: PropTypes.func,\n  divider: PropTypes.bool\n};","map":{"version":3,"names":["React","Component","PropTypes","SideMenu","constructor","props","state","itemTree","componentStateTree","componentWillMount","children","setState","buildComponentStateTree","componentDidMount","items","buildTree","componentDidUpdate","prevProps","prevState","activeItem","parent","Children","map","child","newChild","subTree","active","value","activateParentsComponentTree","handleComponentClick","item","collapse","activeBefore","deactivateComponentTree","deactivateComponentTreeLeaves","isLeaf","length","Array","isArray","activeParentPath","deactivateTree","forEach","deactivateTreeLeaves","curItem","onItemClick","onMenuItemClick","shouldTriggerClickOnParents","self","e","stopPropagation","nativeEvent","stopImmediatePropagation","onClick","extras","window","location","href","renderChevron","rtl","handleRenderMenuItemContent","renderMenuItemContent","icon","label","renderItem","level","divider","render","theme","sidemenuComponent","index","cloneElement","activeState","bind","defaultProps","propTypes","array","func","string","bool","Item","object","number"],"sources":["C:/projects/Portfolio/client/src/utills/index.js"],"sourcesContent":["// @flow\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport type { Node as React$Node } from \"react\";\r\n\r\n// types\r\ntype JSONDivider = {\r\n  divider: true,\r\n  label: string,\r\n  value: string,\r\n};\r\n\r\ntype JSONItem = {\r\n  label: string,\r\n  value: string,\r\n  icon?: string,\r\n  children?: Array<JSONItem | JSONDivider>,\r\n  extras?: any,\r\n};\r\n\r\ntype JSONStateTreeItem = {\r\n  parent: ?JSONStateTreeItem,\r\n  active: ?boolean,\r\n  value: string,\r\n  children: ?Array<JSONStateTreeItem>,\r\n  onClick: (any) => mixed,\r\n  extras: any,\r\n  icon: ?string,\r\n  label: ?string,\r\n  divider: ?boolean,\r\n};\r\n\r\ntype Props = {\r\n  items?: Array<JSONItem | JSONDivider>,\r\n  onMenuItemClick?: (value: string, extras: any) => void,\r\n  renderMenuItemContent?: ({\r\n    icon: ?string,\r\n    value: ?string,\r\n    label: ?string,\r\n  }) => React$Node,\r\n  theme: string,\r\n  collapse?: boolean,\r\n  rtl?: boolean,\r\n  activeItem?: string,\r\n  children?: Array<React$Node>,\r\n  shouldTriggerClickOnParents?: boolean,\r\n};\r\n\r\ntype ComponentStateTreeItem = {\r\n  parent: ?ComponentStateTreeItem,\r\n  active: boolean,\r\n  children: ?Array<ComponentStateTreeItem>,\r\n};\r\n\r\ntype State = {\r\n  itemTree: ?Array<JSONStateTreeItem>,\r\n  componentStateTree: ?Array<ComponentStateTreeItem>,\r\n};\r\n\r\ntype PropsItem = {\r\n  label: string,\r\n  value: string,\r\n  icon?: string,\r\n  onMenuItemClick?: (value: string, extras: any) => void,\r\n  divider?: boolean,\r\n  extras?: any,\r\n  children?: Array<React$Node>,\r\n};\r\n\r\n// components\r\nexport default class SideMenu extends Component<Props, State> {\r\n  static defaultProps = {\r\n    collapse: true,\r\n    rtl: false,\r\n    theme: \"default\",\r\n  };\r\n\r\n  static propTypes = {\r\n    items: PropTypes.array,\r\n    onMenuItemClick: PropTypes.func,\r\n    renderMenuItemContent: PropTypes.func,\r\n    theme: PropTypes.string,\r\n    collapse: PropTypes.bool,\r\n    rtl: PropTypes.bool,\r\n    activeItem: PropTypes.string,\r\n  };\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { itemTree: [], componentStateTree: [] };\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (this.props.children) {\r\n      this.setState({\r\n        componentStateTree: this.buildComponentStateTree(\r\n          this.props.children,\r\n          null\r\n        ),\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { items } = this.props;\r\n\r\n    if (items) {\r\n      this.setState({ itemTree: this.buildTree(items, null) });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props, prevState: State) {\r\n    if (this.props.items && prevProps.items !== this.props.items) {\r\n      this.setState({ itemTree: this.buildTree(this.props.items, null) });\r\n    }\r\n    // We rebuild the whole component tree if activeItem prop changes\r\n    if (\r\n      this.props.activeItem &&\r\n      this.props.activeItem !== prevProps.activeItem\r\n    ) {\r\n      if (this.props.items) {\r\n        this.setState({ itemTree: this.buildTree(this.props.items, null) });\r\n      } else if (this.props.children) {\r\n        this.setState({\r\n          componentStateTree: this.buildComponentStateTree(\r\n            this.props.children,\r\n            null\r\n          ),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  //\r\n  // methods for SideMenu using COMPONENT structure\r\n  //\r\n\r\n  buildComponentStateTree(\r\n    children: Array<React$Node>,\r\n    parent: ?ComponentStateTreeItem\r\n  ): Array<ComponentStateTreeItem> {\r\n    const { activeItem } = this.props;\r\n\r\n    return React.Children.map(children, (child) => {\r\n      const newChild = {};\r\n      let subTree = [];\r\n\r\n      newChild.active = false;\r\n      newChild.parent = parent;\r\n\r\n      if (activeItem === child.props.value) {\r\n        this.activateParentsComponentTree(newChild, false);\r\n      }\r\n\r\n      if (child.props.children) {\r\n        subTree = this.buildComponentStateTree(child.props.children, newChild);\r\n      }\r\n      newChild.children = subTree;\r\n\r\n      return newChild;\r\n    });\r\n  }\r\n\r\n  handleComponentClick(item: ComponentStateTreeItem) {\r\n    const { collapse } = this.props;\r\n    const { componentStateTree } = this.state;\r\n    const activeBefore = item.active;\r\n    if (collapse) {\r\n      this.deactivateComponentTree(componentStateTree);\r\n    } else {\r\n      this.deactivateComponentTreeLeaves(componentStateTree);\r\n    }\r\n    this.activateParentsComponentTree(item, activeBefore);\r\n    this.setState({ componentStateTree: componentStateTree });\r\n  }\r\n\r\n  activateParentsComponentTree(\r\n    item: ?ComponentStateTreeItem,\r\n    activeBefore: boolean\r\n  ) {\r\n    if (item) {\r\n      const isLeaf = !item.children || item.children.length === 0;\r\n      // We don't want to inacivate an active leaf item\r\n      if (isLeaf && activeBefore) {\r\n        item.active = true;\r\n      } else if (!activeBefore) {\r\n        item.active = true;\r\n      }\r\n      this.activateParentsComponentTree(item.parent, false);\r\n    }\r\n  }\r\n\r\n  deactivateComponentTree(\r\n    componentStateTree: ?Array<ComponentStateTreeItem>\r\n  ): ?Array<ComponentStateTreeItem> {\r\n    if (!componentStateTree) {\r\n      return null;\r\n    }\r\n    return componentStateTree.map((child: ComponentStateTreeItem) => {\r\n      child.active = false;\r\n      if (child.children) {\r\n        child.children = this.deactivateComponentTree(child.children);\r\n      }\r\n\r\n      return child;\r\n    });\r\n  }\r\n\r\n  deactivateComponentTreeLeaves(\r\n    componentStateTree: ?Array<ComponentStateTreeItem>\r\n  ): ?Array<ComponentStateTreeItem> {\r\n    if (!componentStateTree) {\r\n      return null;\r\n    }\r\n    return componentStateTree.map((child: ComponentStateTreeItem) => {\r\n      if (!child.children || child.children.length === 0) {\r\n        child.active = false;\r\n      } else {\r\n        child.children = this.deactivateComponentTreeLeaves(child.children);\r\n      }\r\n      return child;\r\n    });\r\n  }\r\n\r\n  //\r\n  // methods for SideMenu using JSON structure\r\n  //\r\n\r\n  buildTree(\r\n    children: Array<JSONItem | JSONDivider>,\r\n    parent: ?JSONStateTreeItem\r\n  ): ?Array<JSONStateTreeItem> {\r\n    const { activeItem } = this.props;\r\n    if (!Array.isArray(children)) {\r\n      return null;\r\n    }\r\n    return children.map((child: JSONItem | JSONDivider) => {\r\n      let newChild: any = {\r\n        ...child,\r\n        active: false,\r\n        parent: parent,\r\n        children: null,\r\n      };\r\n      let subTree = [];\r\n\r\n      if (newChild.value === activeItem) {\r\n        newChild.active = true;\r\n        this.activeParentPath(newChild);\r\n      }\r\n\r\n      if (Array.isArray(child.children)) {\r\n        //  $FlowFixMe\r\n        subTree = this.buildTree(child.children, newChild);\r\n      }\r\n      newChild.children = subTree;\r\n\r\n      return newChild;\r\n    });\r\n  }\r\n\r\n  deactivateTree(itemTree: ?Array<JSONStateTreeItem>) {\r\n    if (!itemTree) {\r\n      return null;\r\n    }\r\n    itemTree.forEach((item) => {\r\n      item.active = false;\r\n      if (item.children) {\r\n        this.deactivateTree(item.children);\r\n      }\r\n    });\r\n  }\r\n\r\n  deactivateTreeLeaves(itemTree: ?Array<JSONStateTreeItem>) {\r\n    if (!itemTree) {\r\n      return null;\r\n    }\r\n    itemTree.forEach((item) => {\r\n      if (!item.children) {\r\n        item.active = false;\r\n      } else {\r\n        this.deactivateTreeLeaves(item.children);\r\n      }\r\n    });\r\n  }\r\n\r\n  activeParentPath(item: JSONStateTreeItem) {\r\n    let curItem: ?JSONStateTreeItem = item;\r\n    while (curItem) {\r\n      curItem.active = true;\r\n      curItem = curItem.parent;\r\n    }\r\n  }\r\n\r\n  onItemClick(item: JSONStateTreeItem) {\r\n    const { itemTree } = this.state;\r\n    const { onMenuItemClick, collapse, shouldTriggerClickOnParents } =\r\n      this.props;\r\n    const self = this;\r\n    return (e: SyntheticTouchEvent<any>) => {\r\n      if (e) {\r\n        e.stopPropagation();\r\n        e.nativeEvent.stopImmediatePropagation();\r\n      }\r\n\r\n      const isLeaf = !item.children || item.children.length === 0;\r\n      // handle UI changes\r\n      if (!item.active) {\r\n        // if menu is in collapse mode, close all items\r\n        if (collapse) {\r\n          self.deactivateTree(itemTree);\r\n        } else {\r\n          self.deactivateTreeLeaves(itemTree);\r\n        }\r\n        item.active = true;\r\n        self.activeParentPath(item);\r\n        self.setState({ itemTree: itemTree });\r\n        // eslint-disable-next-line\r\n      }\r\n      // we deactivate the item if it is active and does not have children\r\n      else if (!isLeaf) {\r\n        item.active = false;\r\n        // if menu is in collapse mode, close only\r\n        if (item.children) {\r\n          self.deactivateTree(item.children);\r\n        }\r\n        if (item.parent) {\r\n          self.activeParentPath(item.parent);\r\n        }\r\n        self.setState({ itemTree: itemTree });\r\n      }\r\n\r\n      // check if item has an onClick method defined\r\n      if (item.onClick) {\r\n        item.onClick(item.value);\r\n        // handle what happens if the item is a leaf node\r\n      } else if (isLeaf || shouldTriggerClickOnParents) {\r\n        if (onMenuItemClick) {\r\n          onMenuItemClick(item.value, item.extras);\r\n        } else {\r\n          window.location.href = `#${item.value}`;\r\n        }\r\n      }\r\n\r\n      this.setState({ ...this.state });\r\n    };\r\n  }\r\n\r\n  renderChevron(item: JSONStateTreeItem, rtl: ?boolean) {\r\n    if (item.children && item.children.length > 0) {\r\n      if (item.active) {\r\n        return <i className=\"fa fa-chevron-down\" />;\r\n      } else if (rtl) {\r\n        return <i className=\"fa fa-chevron-right\" />;\r\n      }\r\n      return <i className=\"fa fa-chevron-left\" />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleRenderMenuItemContent(item: JSONStateTreeItem): React$Node {\r\n    const { renderMenuItemContent, rtl } = this.props;\r\n    if (renderMenuItemContent) {\r\n      return renderMenuItemContent({\r\n        icon: item.icon,\r\n        value: item.value,\r\n        label: item.label,\r\n      });\r\n    }\r\n    return (\r\n      <span>\r\n        {item.icon && <i className={`fa ${item.icon} item-icon`} />}\r\n        {/* render a simple label */}\r\n        <span className=\"item-label\"> {item.label} </span>\r\n        {this.renderChevron(item, rtl)}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  renderItem(item: JSONStateTreeItem, level: number) {\r\n    if (item.divider) {\r\n      return (\r\n        <div key={item.value} className={`divider divider-level-${level}`}>\r\n          {item.label}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        key={item.value}\r\n        className={`item item-level-${level} ${item.active ? \"active\" : \"\"}`}\r\n      >\r\n        <div className=\"item-title\" onClick={this.onItemClick(item)}>\r\n          {this.handleRenderMenuItemContent(item)}\r\n        </div>\r\n        {/* render children */}\r\n        <div className={`children ${item.active ? \"active\" : \"inactive\"}`}>\r\n          {item.children &&\r\n            item.children.map((child) => this.renderItem(child, level + 1))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { itemTree, componentStateTree } = this.state;\r\n    const {\r\n      theme,\r\n      onMenuItemClick,\r\n      rtl,\r\n      renderMenuItemContent,\r\n      shouldTriggerClickOnParents,\r\n    } = this.props;\r\n    const sidemenuComponent = this;\r\n    if (!componentStateTree || componentStateTree.length === 0) {\r\n      // sidemenu constructed from json\r\n      return (\r\n        <div\r\n          className={`Side-menu Side-menu-${theme} ${\r\n            rtl ? \"rtl\" : \"\"\r\n          } children active`}\r\n        >\r\n          {itemTree && itemTree.map((item) => this.renderItem(item, 1))}\r\n        </div>\r\n      );\r\n    }\r\n    // sidemenu constructed with react components\r\n    return (\r\n      <div\r\n        className={`Side-menu  Side-menu-${theme} ${\r\n          rtl ? \"rtl\" : \"\"\r\n        } children active`}\r\n      >\r\n        {React.Children.map(this.props.children, (child, index) => {\r\n          return React.cloneElement(child, {\r\n            activeState: componentStateTree[index],\r\n            handleComponentClick: this.handleComponentClick.bind(this),\r\n            renderMenuItemContent: renderMenuItemContent,\r\n            onMenuItemClick: onMenuItemClick,\r\n            shouldTriggerClickOnParents: shouldTriggerClickOnParents,\r\n            rtl: rtl,\r\n            level: 1,\r\n            sidemenuComponent: sidemenuComponent,\r\n          });\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Because component version of menu is built using cloning and adding some props,\r\n// we need to silence errors related to these added props.\r\nexport class Item extends Component<PropsItem> {\r\n  // $FlowFixMe\r\n  static propTypes = {\r\n    label: PropTypes.string,\r\n    value: PropTypes.string,\r\n    activeState: PropTypes.object,\r\n    level: PropTypes.number,\r\n    icon: PropTypes.string,\r\n    rtl: PropTypes.bool,\r\n    onMenuItemClick: PropTypes.func,\r\n    handleComponentClick: PropTypes.func,\r\n    renderMenuItemContent: PropTypes.func,\r\n    divider: PropTypes.bool,\r\n  };\r\n\r\n  onItemClick() {\r\n    const {\r\n      onMenuItemClick,\r\n      children,\r\n      value,\r\n      extras,\r\n      // $FlowFixMe\r\n      handleComponentClick,\r\n      activeState,\r\n      shouldTriggerClickOnParents,\r\n      onClick,\r\n    } = this.props;\r\n\r\n    const isLeaf = !children || children.length === 0;\r\n    if (onClick) {\r\n      onClick(value);\r\n    } else if (isLeaf || shouldTriggerClickOnParents) {\r\n      if (onMenuItemClick) {\r\n        onMenuItemClick(value, extras);\r\n      } else {\r\n        window.location.href = `#${value}`;\r\n      }\r\n    }\r\n\r\n    handleComponentClick(activeState);\r\n  }\r\n\r\n  renderChevron(\r\n    children: ?Array<React$Node>,\r\n    activeState: ComponentStateTreeItem,\r\n    rtl: ?boolean\r\n  ) {\r\n    if (children) {\r\n      if (activeState.active) {\r\n        return <i className=\"fa fa-chevron-down\" />;\r\n      } else if (rtl) {\r\n        return <i className=\"fa fa-chevron-right\" />;\r\n      }\r\n      return <i className=\"fa fa-chevron-left\" />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleRenderMenuItemContent() {\r\n    // $FlowFixMe\r\n    const {\r\n      renderMenuItemContent,\r\n      children,\r\n      value,\r\n      label,\r\n      icon,\r\n      activeState,\r\n      rtl,\r\n    } = this.props;\r\n    if (renderMenuItemContent) {\r\n      return renderMenuItemContent({\r\n        icon: icon,\r\n        value: value,\r\n        label: label,\r\n      });\r\n    }\r\n    return (\r\n      <span>\r\n        {/* render icon if provided */}\r\n        {icon && <i className={`fa ${icon} item-icon`} />}\r\n        {/* render a simple label */}\r\n        <span className=\"item-label\"> {label} </span>\r\n        {this.renderChevron(children, activeState, rtl)}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      label,\r\n      onMenuItemClick,\r\n      divider,\r\n      children,\r\n      // $FlowFixMe\r\n      activeState,\r\n      level,\r\n      rtl,\r\n      renderMenuItemContent,\r\n      shouldTriggerClickOnParents,\r\n      sidemenuComponent,\r\n      handleComponentClick,\r\n    } = this.props;\r\n\r\n    if (divider) {\r\n      return <div className={`divider divider-level-${level}`}>{label} </div>;\r\n    }\r\n    return (\r\n      <div\r\n        className={`item item-level-${level} ${\r\n          activeState.active ? \"active\" : \"\"\r\n        }`}\r\n      >\r\n        <div className=\"item-title\" onClick={this.onItemClick.bind(this)}>\r\n          {this.handleRenderMenuItemContent()}\r\n        </div>\r\n        {children && (\r\n          <div\r\n            className={`children ${activeState.active ? \"active\" : \"inactive\"}`}\r\n          >\r\n            {React.Children.map(children, (child, index) => {\r\n              return React.cloneElement(child, {\r\n                handleComponentClick: handleComponentClick,\r\n                activeState:\r\n                  activeState.children != null\r\n                    ? activeState.children[index]\r\n                    : null,\r\n                renderMenuItemContent: renderMenuItemContent,\r\n                onMenuItemClick: onMenuItemClick,\r\n                shouldTriggerClickOnParents: shouldTriggerClickOnParents,\r\n                rtl: rtl,\r\n                level: level + 1,\r\n                sidemenuComponent: sidemenuComponent,\r\n              });\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";AAEA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,SAAS,MAAM,YAAY;AAAC;AAmEnC;AACA,eAAe,MAAMC,QAAQ,SAASF,SAAS,CAAe;EAiB5DG,WAAW,CAACC,KAAY,EAAE;IACxB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MAAEC,QAAQ,EAAE,EAAE;MAAEC,kBAAkB,EAAE;IAAG,CAAC;EACvD;EAEAC,kBAAkB,GAAG;IACnB,IAAI,IAAI,CAACJ,KAAK,CAACK,QAAQ,EAAE;MACvB,IAAI,CAACC,QAAQ,CAAC;QACZH,kBAAkB,EAAE,IAAI,CAACI,uBAAuB,CAC9C,IAAI,CAACP,KAAK,CAACK,QAAQ,EACnB,IAAI;MAER,CAAC,CAAC;IACJ;EACF;EAEAG,iBAAiB,GAAG;IAClB,MAAM;MAAEC;IAAM,CAAC,GAAG,IAAI,CAACT,KAAK;IAE5B,IAAIS,KAAK,EAAE;MACT,IAAI,CAACH,QAAQ,CAAC;QAAEJ,QAAQ,EAAE,IAAI,CAACQ,SAAS,CAACD,KAAK,EAAE,IAAI;MAAE,CAAC,CAAC;IAC1D;EACF;EAEAE,kBAAkB,CAACC,SAAgB,EAAEC,SAAgB,EAAE;IACrD,IAAI,IAAI,CAACb,KAAK,CAACS,KAAK,IAAIG,SAAS,CAACH,KAAK,KAAK,IAAI,CAACT,KAAK,CAACS,KAAK,EAAE;MAC5D,IAAI,CAACH,QAAQ,CAAC;QAAEJ,QAAQ,EAAE,IAAI,CAACQ,SAAS,CAAC,IAAI,CAACV,KAAK,CAACS,KAAK,EAAE,IAAI;MAAE,CAAC,CAAC;IACrE;IACA;IACA,IACE,IAAI,CAACT,KAAK,CAACc,UAAU,IACrB,IAAI,CAACd,KAAK,CAACc,UAAU,KAAKF,SAAS,CAACE,UAAU,EAC9C;MACA,IAAI,IAAI,CAACd,KAAK,CAACS,KAAK,EAAE;QACpB,IAAI,CAACH,QAAQ,CAAC;UAAEJ,QAAQ,EAAE,IAAI,CAACQ,SAAS,CAAC,IAAI,CAACV,KAAK,CAACS,KAAK,EAAE,IAAI;QAAE,CAAC,CAAC;MACrE,CAAC,MAAM,IAAI,IAAI,CAACT,KAAK,CAACK,QAAQ,EAAE;QAC9B,IAAI,CAACC,QAAQ,CAAC;UACZH,kBAAkB,EAAE,IAAI,CAACI,uBAAuB,CAC9C,IAAI,CAACP,KAAK,CAACK,QAAQ,EACnB,IAAI;QAER,CAAC,CAAC;MACJ;IACF;EACF;;EAEA;EACA;EACA;;EAEAE,uBAAuB,CACrBF,QAA2B,EAC3BU,MAA+B,EACA;IAC/B,MAAM;MAAED;IAAW,CAAC,GAAG,IAAI,CAACd,KAAK;IAEjC,OAAOL,KAAK,CAACqB,QAAQ,CAACC,GAAG,CAACZ,QAAQ,EAAGa,KAAK,IAAK;MAC7C,MAAMC,QAAQ,GAAG,CAAC,CAAC;MACnB,IAAIC,OAAO,GAAG,EAAE;MAEhBD,QAAQ,CAACE,MAAM,GAAG,KAAK;MACvBF,QAAQ,CAACJ,MAAM,GAAGA,MAAM;MAExB,IAAID,UAAU,KAAKI,KAAK,CAAClB,KAAK,CAACsB,KAAK,EAAE;QACpC,IAAI,CAACC,4BAA4B,CAACJ,QAAQ,EAAE,KAAK,CAAC;MACpD;MAEA,IAAID,KAAK,CAAClB,KAAK,CAACK,QAAQ,EAAE;QACxBe,OAAO,GAAG,IAAI,CAACb,uBAAuB,CAACW,KAAK,CAAClB,KAAK,CAACK,QAAQ,EAAEc,QAAQ,CAAC;MACxE;MACAA,QAAQ,CAACd,QAAQ,GAAGe,OAAO;MAE3B,OAAOD,QAAQ;IACjB,CAAC,CAAC;EACJ;EAEAK,oBAAoB,CAACC,IAA4B,EAAE;IACjD,MAAM;MAAEC;IAAS,CAAC,GAAG,IAAI,CAAC1B,KAAK;IAC/B,MAAM;MAAEG;IAAmB,CAAC,GAAG,IAAI,CAACF,KAAK;IACzC,MAAM0B,YAAY,GAAGF,IAAI,CAACJ,MAAM;IAChC,IAAIK,QAAQ,EAAE;MACZ,IAAI,CAACE,uBAAuB,CAACzB,kBAAkB,CAAC;IAClD,CAAC,MAAM;MACL,IAAI,CAAC0B,6BAA6B,CAAC1B,kBAAkB,CAAC;IACxD;IACA,IAAI,CAACoB,4BAA4B,CAACE,IAAI,EAAEE,YAAY,CAAC;IACrD,IAAI,CAACrB,QAAQ,CAAC;MAAEH,kBAAkB,EAAEA;IAAmB,CAAC,CAAC;EAC3D;EAEAoB,4BAA4B,CAC1BE,IAA6B,EAC7BE,YAAqB,EACrB;IACA,IAAIF,IAAI,EAAE;MACR,MAAMK,MAAM,GAAG,CAACL,IAAI,CAACpB,QAAQ,IAAIoB,IAAI,CAACpB,QAAQ,CAAC0B,MAAM,KAAK,CAAC;MAC3D;MACA,IAAID,MAAM,IAAIH,YAAY,EAAE;QAC1BF,IAAI,CAACJ,MAAM,GAAG,IAAI;MACpB,CAAC,MAAM,IAAI,CAACM,YAAY,EAAE;QACxBF,IAAI,CAACJ,MAAM,GAAG,IAAI;MACpB;MACA,IAAI,CAACE,4BAA4B,CAACE,IAAI,CAACV,MAAM,EAAE,KAAK,CAAC;IACvD;EACF;EAEAa,uBAAuB,CACrBzB,kBAAkD,EAClB;IAChC,IAAI,CAACA,kBAAkB,EAAE;MACvB,OAAO,IAAI;IACb;IACA,OAAOA,kBAAkB,CAACc,GAAG,CAAEC,KAA6B,IAAK;MAC/DA,KAAK,CAACG,MAAM,GAAG,KAAK;MACpB,IAAIH,KAAK,CAACb,QAAQ,EAAE;QAClBa,KAAK,CAACb,QAAQ,GAAG,IAAI,CAACuB,uBAAuB,CAACV,KAAK,CAACb,QAAQ,CAAC;MAC/D;MAEA,OAAOa,KAAK;IACd,CAAC,CAAC;EACJ;EAEAW,6BAA6B,CAC3B1B,kBAAkD,EAClB;IAChC,IAAI,CAACA,kBAAkB,EAAE;MACvB,OAAO,IAAI;IACb;IACA,OAAOA,kBAAkB,CAACc,GAAG,CAAEC,KAA6B,IAAK;MAC/D,IAAI,CAACA,KAAK,CAACb,QAAQ,IAAIa,KAAK,CAACb,QAAQ,CAAC0B,MAAM,KAAK,CAAC,EAAE;QAClDb,KAAK,CAACG,MAAM,GAAG,KAAK;MACtB,CAAC,MAAM;QACLH,KAAK,CAACb,QAAQ,GAAG,IAAI,CAACwB,6BAA6B,CAACX,KAAK,CAACb,QAAQ,CAAC;MACrE;MACA,OAAOa,KAAK;IACd,CAAC,CAAC;EACJ;;EAEA;EACA;EACA;;EAEAR,SAAS,CACPL,QAAuC,EACvCU,MAA0B,EACC;IAC3B,MAAM;MAAED;IAAW,CAAC,GAAG,IAAI,CAACd,KAAK;IACjC,IAAI,CAACgC,KAAK,CAACC,OAAO,CAAC5B,QAAQ,CAAC,EAAE;MAC5B,OAAO,IAAI;IACb;IACA,OAAOA,QAAQ,CAACY,GAAG,CAAEC,KAA6B,IAAK;MACrD,IAAIC,QAAa,GAAG;QAClB,GAAGD,KAAK;QACRG,MAAM,EAAE,KAAK;QACbN,MAAM,EAAEA,MAAM;QACdV,QAAQ,EAAE;MACZ,CAAC;MACD,IAAIe,OAAO,GAAG,EAAE;MAEhB,IAAID,QAAQ,CAACG,KAAK,KAAKR,UAAU,EAAE;QACjCK,QAAQ,CAACE,MAAM,GAAG,IAAI;QACtB,IAAI,CAACa,gBAAgB,CAACf,QAAQ,CAAC;MACjC;MAEA,IAAIa,KAAK,CAACC,OAAO,CAACf,KAAK,CAACb,QAAQ,CAAC,EAAE;QACjC;QACAe,OAAO,GAAG,IAAI,CAACV,SAAS,CAACQ,KAAK,CAACb,QAAQ,EAAEc,QAAQ,CAAC;MACpD;MACAA,QAAQ,CAACd,QAAQ,GAAGe,OAAO;MAE3B,OAAOD,QAAQ;IACjB,CAAC,CAAC;EACJ;EAEAgB,cAAc,CAACjC,QAAmC,EAAE;IAClD,IAAI,CAACA,QAAQ,EAAE;MACb,OAAO,IAAI;IACb;IACAA,QAAQ,CAACkC,OAAO,CAAEX,IAAI,IAAK;MACzBA,IAAI,CAACJ,MAAM,GAAG,KAAK;MACnB,IAAII,IAAI,CAACpB,QAAQ,EAAE;QACjB,IAAI,CAAC8B,cAAc,CAACV,IAAI,CAACpB,QAAQ,CAAC;MACpC;IACF,CAAC,CAAC;EACJ;EAEAgC,oBAAoB,CAACnC,QAAmC,EAAE;IACxD,IAAI,CAACA,QAAQ,EAAE;MACb,OAAO,IAAI;IACb;IACAA,QAAQ,CAACkC,OAAO,CAAEX,IAAI,IAAK;MACzB,IAAI,CAACA,IAAI,CAACpB,QAAQ,EAAE;QAClBoB,IAAI,CAACJ,MAAM,GAAG,KAAK;MACrB,CAAC,MAAM;QACL,IAAI,CAACgB,oBAAoB,CAACZ,IAAI,CAACpB,QAAQ,CAAC;MAC1C;IACF,CAAC,CAAC;EACJ;EAEA6B,gBAAgB,CAACT,IAAuB,EAAE;IACxC,IAAIa,OAA2B,GAAGb,IAAI;IACtC,OAAOa,OAAO,EAAE;MACdA,OAAO,CAACjB,MAAM,GAAG,IAAI;MACrBiB,OAAO,GAAGA,OAAO,CAACvB,MAAM;IAC1B;EACF;EAEAwB,WAAW,CAACd,IAAuB,EAAE;IACnC,MAAM;MAAEvB;IAAS,CAAC,GAAG,IAAI,CAACD,KAAK;IAC/B,MAAM;MAAEuC,eAAe;MAAEd,QAAQ;MAAEe;IAA4B,CAAC,GAC9D,IAAI,CAACzC,KAAK;IACZ,MAAM0C,IAAI,GAAG,IAAI;IACjB,OAAQC,CAA2B,IAAK;MACtC,IAAIA,CAAC,EAAE;QACLA,CAAC,CAACC,eAAe,EAAE;QACnBD,CAAC,CAACE,WAAW,CAACC,wBAAwB,EAAE;MAC1C;MAEA,MAAMhB,MAAM,GAAG,CAACL,IAAI,CAACpB,QAAQ,IAAIoB,IAAI,CAACpB,QAAQ,CAAC0B,MAAM,KAAK,CAAC;MAC3D;MACA,IAAI,CAACN,IAAI,CAACJ,MAAM,EAAE;QAChB;QACA,IAAIK,QAAQ,EAAE;UACZgB,IAAI,CAACP,cAAc,CAACjC,QAAQ,CAAC;QAC/B,CAAC,MAAM;UACLwC,IAAI,CAACL,oBAAoB,CAACnC,QAAQ,CAAC;QACrC;QACAuB,IAAI,CAACJ,MAAM,GAAG,IAAI;QAClBqB,IAAI,CAACR,gBAAgB,CAACT,IAAI,CAAC;QAC3BiB,IAAI,CAACpC,QAAQ,CAAC;UAAEJ,QAAQ,EAAEA;QAAS,CAAC,CAAC;QACrC;MACF;MACA;MAAA,KACK,IAAI,CAAC4B,MAAM,EAAE;QAChBL,IAAI,CAACJ,MAAM,GAAG,KAAK;QACnB;QACA,IAAII,IAAI,CAACpB,QAAQ,EAAE;UACjBqC,IAAI,CAACP,cAAc,CAACV,IAAI,CAACpB,QAAQ,CAAC;QACpC;QACA,IAAIoB,IAAI,CAACV,MAAM,EAAE;UACf2B,IAAI,CAACR,gBAAgB,CAACT,IAAI,CAACV,MAAM,CAAC;QACpC;QACA2B,IAAI,CAACpC,QAAQ,CAAC;UAAEJ,QAAQ,EAAEA;QAAS,CAAC,CAAC;MACvC;;MAEA;MACA,IAAIuB,IAAI,CAACsB,OAAO,EAAE;QAChBtB,IAAI,CAACsB,OAAO,CAACtB,IAAI,CAACH,KAAK,CAAC;QACxB;MACF,CAAC,MAAM,IAAIQ,MAAM,IAAIW,2BAA2B,EAAE;QAChD,IAAID,eAAe,EAAE;UACnBA,eAAe,CAACf,IAAI,CAACH,KAAK,EAAEG,IAAI,CAACuB,MAAM,CAAC;QAC1C,CAAC,MAAM;UACLC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAI,IAAG1B,IAAI,CAACH,KAAM,EAAC;QACzC;MACF;MAEA,IAAI,CAAChB,QAAQ,CAAC;QAAE,GAAG,IAAI,CAACL;MAAM,CAAC,CAAC;IAClC,CAAC;EACH;EAEAmD,aAAa,CAAC3B,IAAuB,EAAE4B,GAAa,EAAE;IACpD,IAAI5B,IAAI,CAACpB,QAAQ,IAAIoB,IAAI,CAACpB,QAAQ,CAAC0B,MAAM,GAAG,CAAC,EAAE;MAC7C,IAAIN,IAAI,CAACJ,MAAM,EAAE;QACf,oBAAO;UAAG,SAAS,EAAC;QAAoB;UAAA;UAAA;UAAA;QAAA,QAAG;MAC7C,CAAC,MAAM,IAAIgC,GAAG,EAAE;QACd,oBAAO;UAAG,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAAG;MAC9C;MACA,oBAAO;QAAG,SAAS,EAAC;MAAoB;QAAA;QAAA;QAAA;MAAA,QAAG;IAC7C;IACA,OAAO,IAAI;EACb;EAEAC,2BAA2B,CAAC7B,IAAuB,EAAc;IAC/D,MAAM;MAAE8B,qBAAqB;MAAEF;IAAI,CAAC,GAAG,IAAI,CAACrD,KAAK;IACjD,IAAIuD,qBAAqB,EAAE;MACzB,OAAOA,qBAAqB,CAAC;QAC3BC,IAAI,EAAE/B,IAAI,CAAC+B,IAAI;QACflC,KAAK,EAAEG,IAAI,CAACH,KAAK;QACjBmC,KAAK,EAAEhC,IAAI,CAACgC;MACd,CAAC,CAAC;IACJ;IACA,oBACE;MAAA,WACGhC,IAAI,CAAC+B,IAAI,iBAAI;QAAG,SAAS,EAAG,MAAK/B,IAAI,CAAC+B,IAAK;MAAY;QAAA;QAAA;QAAA;MAAA,QAAG,eAE3D;QAAM,SAAS,EAAC,YAAY;QAAA,gBAAG/B,IAAI,CAACgC,KAAK;MAAA;QAAA;QAAA;QAAA;MAAA,QAAS,EACjD,IAAI,CAACL,aAAa,CAAC3B,IAAI,EAAE4B,GAAG,CAAC;IAAA;MAAA;MAAA;MAAA;IAAA,QACzB;EAEX;EAEAK,UAAU,CAACjC,IAAuB,EAAEkC,KAAa,EAAE;IACjD,IAAIlC,IAAI,CAACmC,OAAO,EAAE;MAChB,oBACE;QAAsB,SAAS,EAAG,yBAAwBD,KAAM,EAAE;QAAA,UAC/DlC,IAAI,CAACgC;MAAK,GADHhC,IAAI,CAACH,KAAK;QAAA;QAAA;QAAA;MAAA,QAEd;IAEV;IACA,oBACE;MAEE,SAAS,EAAG,mBAAkBqC,KAAM,IAAGlC,IAAI,CAACJ,MAAM,GAAG,QAAQ,GAAG,EAAG,EAAE;MAAA,wBAErE;QAAK,SAAS,EAAC,YAAY;QAAC,OAAO,EAAE,IAAI,CAACkB,WAAW,CAACd,IAAI,CAAE;QAAA,UACzD,IAAI,CAAC6B,2BAA2B,CAAC7B,IAAI;MAAC;QAAA;QAAA;QAAA;MAAA,QACnC,eAEN;QAAK,SAAS,EAAG,YAAWA,IAAI,CAACJ,MAAM,GAAG,QAAQ,GAAG,UAAW,EAAE;QAAA,UAC/DI,IAAI,CAACpB,QAAQ,IACZoB,IAAI,CAACpB,QAAQ,CAACY,GAAG,CAAEC,KAAK,IAAK,IAAI,CAACwC,UAAU,CAACxC,KAAK,EAAEyC,KAAK,GAAG,CAAC,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAC7D;IAAA,GAVDlC,IAAI,CAACH,KAAK;MAAA;MAAA;MAAA;IAAA,QAWX;EAEV;EAEAuC,MAAM,GAAG;IACP,MAAM;MAAE3D,QAAQ;MAAEC;IAAmB,CAAC,GAAG,IAAI,CAACF,KAAK;IACnD,MAAM;MACJ6D,KAAK;MACLtB,eAAe;MACfa,GAAG;MACHE,qBAAqB;MACrBd;IACF,CAAC,GAAG,IAAI,CAACzC,KAAK;IACd,MAAM+D,iBAAiB,GAAG,IAAI;IAC9B,IAAI,CAAC5D,kBAAkB,IAAIA,kBAAkB,CAAC4B,MAAM,KAAK,CAAC,EAAE;MAC1D;MACA,oBACE;QACE,SAAS,EAAG,uBAAsB+B,KAAM,IACtCT,GAAG,GAAG,KAAK,GAAG,EACf,kBAAkB;QAAA,UAElBnD,QAAQ,IAAIA,QAAQ,CAACe,GAAG,CAAEQ,IAAI,IAAK,IAAI,CAACiC,UAAU,CAACjC,IAAI,EAAE,CAAC,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QACzD;IAEV;IACA;IACA,oBACE;MACE,SAAS,EAAG,wBAAuBqC,KAAM,IACvCT,GAAG,GAAG,KAAK,GAAG,EACf,kBAAkB;MAAA,UAElB1D,KAAK,CAACqB,QAAQ,CAACC,GAAG,CAAC,IAAI,CAACjB,KAAK,CAACK,QAAQ,EAAE,CAACa,KAAK,EAAE8C,KAAK,KAAK;QACzD,oBAAOrE,KAAK,CAACsE,YAAY,CAAC/C,KAAK,EAAE;UAC/BgD,WAAW,EAAE/D,kBAAkB,CAAC6D,KAAK,CAAC;UACtCxC,oBAAoB,EAAE,IAAI,CAACA,oBAAoB,CAAC2C,IAAI,CAAC,IAAI,CAAC;UAC1DZ,qBAAqB,EAAEA,qBAAqB;UAC5Cf,eAAe,EAAEA,eAAe;UAChCC,2BAA2B,EAAEA,2BAA2B;UACxDY,GAAG,EAAEA,GAAG;UACRM,KAAK,EAAE,CAAC;UACRI,iBAAiB,EAAEA;QACrB,CAAC,CAAC;MACJ,CAAC;IAAC;MAAA;MAAA;MAAA;IAAA,QACE;EAEV;AACF;;AAEA;AACA;AA5XqBjE,QAAQ,CACpBsE,YAAY,GAAG;EACpB1C,QAAQ,EAAE,IAAI;EACd2B,GAAG,EAAE,KAAK;EACVS,KAAK,EAAE;AACT,CAAC;AALkBhE,QAAQ,CAOpBuE,SAAS,GAAG;EACjB5D,KAAK,EAAEZ,SAAS,CAACyE,KAAK;EACtB9B,eAAe,EAAE3C,SAAS,CAAC0E,IAAI;EAC/BhB,qBAAqB,EAAE1D,SAAS,CAAC0E,IAAI;EACrCT,KAAK,EAAEjE,SAAS,CAAC2E,MAAM;EACvB9C,QAAQ,EAAE7B,SAAS,CAAC4E,IAAI;EACxBpB,GAAG,EAAExD,SAAS,CAAC4E,IAAI;EACnB3D,UAAU,EAAEjB,SAAS,CAAC2E;AACxB,CAAC;AA8WH,OAAO,MAAME,IAAI,SAAS9E,SAAS,CAAY;EAC7C;;EAcA2C,WAAW,GAAG;IACZ,MAAM;MACJC,eAAe;MACfnC,QAAQ;MACRiB,KAAK;MACL0B,MAAM;MACN;MACAxB,oBAAoB;MACpB0C,WAAW;MACXzB,2BAA2B;MAC3BM;IACF,CAAC,GAAG,IAAI,CAAC/C,KAAK;IAEd,MAAM8B,MAAM,GAAG,CAACzB,QAAQ,IAAIA,QAAQ,CAAC0B,MAAM,KAAK,CAAC;IACjD,IAAIgB,OAAO,EAAE;MACXA,OAAO,CAACzB,KAAK,CAAC;IAChB,CAAC,MAAM,IAAIQ,MAAM,IAAIW,2BAA2B,EAAE;MAChD,IAAID,eAAe,EAAE;QACnBA,eAAe,CAAClB,KAAK,EAAE0B,MAAM,CAAC;MAChC,CAAC,MAAM;QACLC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAI,IAAG7B,KAAM,EAAC;MACpC;IACF;IAEAE,oBAAoB,CAAC0C,WAAW,CAAC;EACnC;EAEAd,aAAa,CACX/C,QAA4B,EAC5B6D,WAAmC,EACnCb,GAAa,EACb;IACA,IAAIhD,QAAQ,EAAE;MACZ,IAAI6D,WAAW,CAAC7C,MAAM,EAAE;QACtB,oBAAO;UAAG,SAAS,EAAC;QAAoB;UAAA;UAAA;UAAA;QAAA,QAAG;MAC7C,CAAC,MAAM,IAAIgC,GAAG,EAAE;QACd,oBAAO;UAAG,SAAS,EAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAAG;MAC9C;MACA,oBAAO;QAAG,SAAS,EAAC;MAAoB;QAAA;QAAA;QAAA;MAAA,QAAG;IAC7C;IACA,OAAO,IAAI;EACb;EAEAC,2BAA2B,GAAG;IAC5B;IACA,MAAM;MACJC,qBAAqB;MACrBlD,QAAQ;MACRiB,KAAK;MACLmC,KAAK;MACLD,IAAI;MACJU,WAAW;MACXb;IACF,CAAC,GAAG,IAAI,CAACrD,KAAK;IACd,IAAIuD,qBAAqB,EAAE;MACzB,OAAOA,qBAAqB,CAAC;QAC3BC,IAAI,EAAEA,IAAI;QACVlC,KAAK,EAAEA,KAAK;QACZmC,KAAK,EAAEA;MACT,CAAC,CAAC;IACJ;IACA,oBACE;MAAA,WAEGD,IAAI,iBAAI;QAAG,SAAS,EAAG,MAAKA,IAAK;MAAY;QAAA;QAAA;QAAA;MAAA,QAAG,eAEjD;QAAM,SAAS,EAAC,YAAY;QAAA,gBAAGC,KAAK;MAAA;QAAA;QAAA;QAAA;MAAA,QAAS,EAC5C,IAAI,CAACL,aAAa,CAAC/C,QAAQ,EAAE6D,WAAW,EAAEb,GAAG,CAAC;IAAA;MAAA;MAAA;MAAA;IAAA,QAC1C;EAEX;EAEAQ,MAAM,GAAG;IACP,MAAM;MACJJ,KAAK;MACLjB,eAAe;MACfoB,OAAO;MACPvD,QAAQ;MACR;MACA6D,WAAW;MACXP,KAAK;MACLN,GAAG;MACHE,qBAAqB;MACrBd,2BAA2B;MAC3BsB,iBAAiB;MACjBvC;IACF,CAAC,GAAG,IAAI,CAACxB,KAAK;IAEd,IAAI4D,OAAO,EAAE;MACX,oBAAO;QAAK,SAAS,EAAG,yBAAwBD,KAAM,EAAE;QAAA,WAAEF,KAAK;MAAA;QAAA;QAAA;QAAA;MAAA,QAAQ;IACzE;IACA,oBACE;MACE,SAAS,EAAG,mBAAkBE,KAAM,IAClCO,WAAW,CAAC7C,MAAM,GAAG,QAAQ,GAAG,EACjC,EAAE;MAAA,wBAEH;QAAK,SAAS,EAAC,YAAY;QAAC,OAAO,EAAE,IAAI,CAACkB,WAAW,CAAC4B,IAAI,CAAC,IAAI,CAAE;QAAA,UAC9D,IAAI,CAACb,2BAA2B;MAAE;QAAA;QAAA;QAAA;MAAA,QAC/B,EACLjD,QAAQ,iBACP;QACE,SAAS,EAAG,YAAW6D,WAAW,CAAC7C,MAAM,GAAG,QAAQ,GAAG,UAAW,EAAE;QAAA,UAEnE1B,KAAK,CAACqB,QAAQ,CAACC,GAAG,CAACZ,QAAQ,EAAE,CAACa,KAAK,EAAE8C,KAAK,KAAK;UAC9C,oBAAOrE,KAAK,CAACsE,YAAY,CAAC/C,KAAK,EAAE;YAC/BM,oBAAoB,EAAEA,oBAAoB;YAC1C0C,WAAW,EACTA,WAAW,CAAC7D,QAAQ,IAAI,IAAI,GACxB6D,WAAW,CAAC7D,QAAQ,CAAC2D,KAAK,CAAC,GAC3B,IAAI;YACVT,qBAAqB,EAAEA,qBAAqB;YAC5Cf,eAAe,EAAEA,eAAe;YAChCC,2BAA2B,EAAEA,2BAA2B;YACxDY,GAAG,EAAEA,GAAG;YACRM,KAAK,EAAEA,KAAK,GAAG,CAAC;YAChBI,iBAAiB,EAAEA;UACrB,CAAC,CAAC;QACJ,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAEL;IAAA;MAAA;MAAA;MAAA;IAAA,QACG;EAEV;AACF;AA3IaW,IAAI,CAERL,SAAS,GAAG;EACjBZ,KAAK,EAAE5D,SAAS,CAAC2E,MAAM;EACvBlD,KAAK,EAAEzB,SAAS,CAAC2E,MAAM;EACvBN,WAAW,EAAErE,SAAS,CAAC8E,MAAM;EAC7BhB,KAAK,EAAE9D,SAAS,CAAC+E,MAAM;EACvBpB,IAAI,EAAE3D,SAAS,CAAC2E,MAAM;EACtBnB,GAAG,EAAExD,SAAS,CAAC4E,IAAI;EACnBjC,eAAe,EAAE3C,SAAS,CAAC0E,IAAI;EAC/B/C,oBAAoB,EAAE3B,SAAS,CAAC0E,IAAI;EACpChB,qBAAqB,EAAE1D,SAAS,CAAC0E,IAAI;EACrCX,OAAO,EAAE/D,SAAS,CAAC4E;AACrB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}