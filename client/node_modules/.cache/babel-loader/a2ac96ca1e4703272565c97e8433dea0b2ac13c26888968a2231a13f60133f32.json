{"ast":null,"code":"import { configureStore, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst asyncVoteSum = createAsyncThunk(\"communitySlice/asyncTopic\", async () => {\n  const resp = await axios.get(\"/api/topic\");\n  return resp.data;\n});\nconst vote = createSlice({\n  name: \"topicSlice\",\n  initialState: {\n    list: []\n  },\n  extraReducers: builder => {\n    builder.addCase(asyncTopic.pending, (state, action) => {\n      // console.log(\"pending\");\n    });\n    builder.addCase(asyncTopic.fulfilled, (state, action) => {\n      state.list = action.payload;\n      // console.log(\"fulfilled\");\n    });\n\n    builder.addCase(asyncTopic.rejected, (state, action) => {\n      // console.log(\"rejected\");\n    });\n  }\n});\nconst asyncComment = createAsyncThunk(\"commentSlice/asyncComment\", async post_id => {\n  let body = {\n    postid: post_id\n  };\n  const resp = await axios.post(\"/api/comment\", body);\n  return resp.data;\n});\nconst commentSlice = createSlice({\n  name: \"commentSlice\",\n  initialState: {\n    list: []\n  },\n  reducers: {\n    changeEdit: (state, action) => {\n      for (var i = 0; i < state.list.length; i++) {\n        if (state.list[i].comment_id === action.payload.comment_id) {\n          state.list[i].edit = !action.payload.edit;\n        }\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(asyncComment.pending, (state, action) => {\n      // console.log(\"pending\");\n    });\n    builder.addCase(asyncComment.fulfilled, (state, action) => {\n      state.list = action.payload;\n      // console.log(\"fulfilled\");\n    });\n\n    builder.addCase(asyncComment.rejected, (state, action) => {\n      // console.log(\"rejected\");\n    });\n  }\n});\nconst userSlice = createSlice({\n  name: \"userSlice\",\n  initialState: {\n    userName: \"\"\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.userName = action.payload;\n      console.log(state.userName);\n    },\n    LogoutUser: state => {\n      state.userName = \"\";\n    }\n  },\n  extraReducers: {}\n});\nconst asyncTopic = createAsyncThunk(\"communitySlice/asyncTopic\", async () => {\n  const resp = await axios.get(\"/api/topic\");\n  return resp.data;\n});\nconst topicSlice = createSlice({\n  name: \"topicSlice\",\n  initialState: {\n    list: []\n  },\n  extraReducers: builder => {\n    builder.addCase(asyncTopic.pending, (state, action) => {\n      // console.log(\"pending\");\n    });\n    builder.addCase(asyncTopic.fulfilled, (state, action) => {\n      state.list = action.payload;\n      // console.log(\"fulfilled\");\n    });\n\n    builder.addCase(asyncTopic.rejected, (state, action) => {\n      // console.log(\"rejected\");\n    });\n  }\n});\nconst asyncSub = createAsyncThunk(\"subSlice/asyncSub\", async () => {\n  const resp = await axios.get(\"/api/sub\");\n  return resp.data;\n});\nconst subSlice = createSlice({\n  name: \"subSlice\",\n  initialState: {\n    list: []\n  },\n  extraReducers: builder => {\n    builder.addCase(asyncSub.pending, (state, action) => {\n      // console.log(\"pending\");\n    });\n    builder.addCase(asyncSub.fulfilled, (state, action) => {\n      state.list = action.payload;\n      // console.log(\"fulfilled\");\n    });\n\n    builder.addCase(asyncSub.rejected, (state, action) => {\n      // console.log(\"rejected\");\n    });\n  }\n});\nconst getPost = createAsyncThunk(\"postSlice/getPost\", async subid => {\n  const resp = await axios.get(\"/api/post\", {\n    params: {\n      subId: subid\n    }\n  });\n  return resp.data;\n});\nconst postSlice = createSlice({\n  name: \"postSlice\",\n  initialState: {\n    list: []\n  },\n  extraReducers: builder => {\n    builder.addCase(getPost.pending, (state, action) => {\n      // console.log(\"pending\");\n    });\n    builder.addCase(getPost.fulfilled, (state, action) => {\n      state.list = action.payload;\n      // console.log(action.payload);\n    });\n\n    builder.addCase(getPost.rejected, (state, action) => {\n      // console.log(\"rejected\");\n    });\n  }\n});\nexport default configureStore({\n  reducer: {\n    topicSlice: topicSlice.reducer,\n    subSlice: subSlice.reducer,\n    postSlice: postSlice.reducer,\n    userSlice: userSlice.reducer,\n    commentSlice: commentSlice.reducer\n  }\n});\nexport { asyncTopic, asyncSub, getPost, postSlice, userSlice, asyncComment, commentSlice };","map":{"version":3,"names":["configureStore","createAsyncThunk","createSlice","axios","asyncVoteSum","resp","get","data","vote","name","initialState","list","extraReducers","builder","addCase","asyncTopic","pending","state","action","fulfilled","payload","rejected","asyncComment","post_id","body","postid","post","commentSlice","reducers","changeEdit","i","length","comment_id","edit","userSlice","userName","setUser","console","log","LogoutUser","topicSlice","asyncSub","subSlice","getPost","subid","params","subId","postSlice","reducer"],"sources":["C:/projects/Reddit-Clone/client/src/store/store.js"],"sourcesContent":["import {\r\n  configureStore,\r\n  createAsyncThunk,\r\n  createSlice,\r\n} from \"@reduxjs/toolkit\";\r\nimport axios from \"axios\";\r\n\r\nconst asyncVoteSum = createAsyncThunk(\"communitySlice/asyncTopic\", async () => {\r\n  const resp = await axios.get(\"/api/topic\");\r\n  return resp.data;\r\n});\r\n\r\nconst vote = createSlice({\r\n  name: \"topicSlice\",\r\n  initialState: {\r\n    list: [],\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(asyncTopic.pending, (state, action) => {\r\n      // console.log(\"pending\");\r\n    });\r\n    builder.addCase(asyncTopic.fulfilled, (state, action) => {\r\n      state.list = action.payload;\r\n      // console.log(\"fulfilled\");\r\n    });\r\n    builder.addCase(asyncTopic.rejected, (state, action) => {\r\n      // console.log(\"rejected\");\r\n    });\r\n  },\r\n});\r\n\r\nconst asyncComment = createAsyncThunk(\r\n  \"commentSlice/asyncComment\",\r\n  async (post_id) => {\r\n    let body = {\r\n      postid: post_id,\r\n    };\r\n\r\n    const resp = await axios.post(\"/api/comment\", body);\r\n    return resp.data;\r\n  }\r\n);\r\n\r\nconst commentSlice = createSlice({\r\n  name: \"commentSlice\",\r\n  initialState: {\r\n    list: [],\r\n  },\r\n  reducers: {\r\n    changeEdit: (state, action) => {\r\n      for (var i = 0; i < state.list.length; i++) {\r\n        if (state.list[i].comment_id === action.payload.comment_id) {\r\n          state.list[i].edit = !action.payload.edit;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(asyncComment.pending, (state, action) => {\r\n      // console.log(\"pending\");\r\n    });\r\n    builder.addCase(asyncComment.fulfilled, (state, action) => {\r\n      state.list = action.payload;\r\n      // console.log(\"fulfilled\");\r\n    });\r\n    builder.addCase(asyncComment.rejected, (state, action) => {\r\n      // console.log(\"rejected\");\r\n    });\r\n  },\r\n});\r\n\r\nconst userSlice = createSlice({\r\n  name: \"userSlice\",\r\n  initialState: {\r\n    userName: \"\",\r\n  },\r\n  reducers: {\r\n    setUser: (state, action) => {\r\n      state.userName = action.payload;\r\n      console.log(state.userName);\r\n    },\r\n    LogoutUser: (state) => {\r\n      state.userName = \"\";\r\n    },\r\n  },\r\n  extraReducers: {},\r\n});\r\n\r\nconst asyncTopic = createAsyncThunk(\"communitySlice/asyncTopic\", async () => {\r\n  const resp = await axios.get(\"/api/topic\");\r\n  return resp.data;\r\n});\r\n\r\nconst topicSlice = createSlice({\r\n  name: \"topicSlice\",\r\n  initialState: {\r\n    list: [],\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(asyncTopic.pending, (state, action) => {\r\n      // console.log(\"pending\");\r\n    });\r\n    builder.addCase(asyncTopic.fulfilled, (state, action) => {\r\n      state.list = action.payload;\r\n      // console.log(\"fulfilled\");\r\n    });\r\n    builder.addCase(asyncTopic.rejected, (state, action) => {\r\n      // console.log(\"rejected\");\r\n    });\r\n  },\r\n});\r\n\r\nconst asyncSub = createAsyncThunk(\"subSlice/asyncSub\", async () => {\r\n  const resp = await axios.get(\"/api/sub\");\r\n  return resp.data;\r\n});\r\n\r\nconst subSlice = createSlice({\r\n  name: \"subSlice\",\r\n  initialState: {\r\n    list: [],\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(asyncSub.pending, (state, action) => {\r\n      // console.log(\"pending\");\r\n    });\r\n    builder.addCase(asyncSub.fulfilled, (state, action) => {\r\n      state.list = action.payload;\r\n      // console.log(\"fulfilled\");\r\n    });\r\n    builder.addCase(asyncSub.rejected, (state, action) => {\r\n      // console.log(\"rejected\");\r\n    });\r\n  },\r\n});\r\n\r\nconst getPost = createAsyncThunk(\"postSlice/getPost\", async (subid) => {\r\n  const resp = await axios.get(\"/api/post\", { params: { subId: subid } });\r\n  return resp.data;\r\n});\r\n\r\nconst postSlice = createSlice({\r\n  name: \"postSlice\",\r\n  initialState: {\r\n    list: [],\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(getPost.pending, (state, action) => {\r\n      // console.log(\"pending\");\r\n    });\r\n    builder.addCase(getPost.fulfilled, (state, action) => {\r\n      state.list = action.payload;\r\n      // console.log(action.payload);\r\n    });\r\n    builder.addCase(getPost.rejected, (state, action) => {\r\n      // console.log(\"rejected\");\r\n    });\r\n  },\r\n});\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    topicSlice: topicSlice.reducer,\r\n    subSlice: subSlice.reducer,\r\n    postSlice: postSlice.reducer,\r\n    userSlice: userSlice.reducer,\r\n    commentSlice: commentSlice.reducer,\r\n  },\r\n});\r\n\r\nexport {\r\n  asyncTopic,\r\n  asyncSub,\r\n  getPost,\r\n  postSlice,\r\n  userSlice,\r\n  asyncComment,\r\n  commentSlice,\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}